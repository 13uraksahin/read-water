# =============================================================================
# Read Water - Production Environment Configuration
# =============================================================================
# Copy this file to .env.production and configure for your Dokploy deployment.
# These variables should be set in Dokploy's environment configuration.
# =============================================================================

# -----------------------------------------------------------------------------
# Docker Images (GHCR) - Set these to your GitHub Container Registry images
# Replace <owner> with your GitHub username or organization (lowercase)
# -----------------------------------------------------------------------------
API_IMAGE=ghcr.io/<owner>/readwater-api:latest
APP_IMAGE=ghcr.io/<owner>/readwater-app:latest

# -----------------------------------------------------------------------------
# PostgreSQL / TimescaleDB
# -----------------------------------------------------------------------------
POSTGRES_USER=readwater
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=readwater

# -----------------------------------------------------------------------------
# Redis
# -----------------------------------------------------------------------------
# Leave empty for no password, or set a strong password
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD

# -----------------------------------------------------------------------------
# JWT Authentication (MUST CHANGE IN PRODUCTION!)
# Generate with: openssl rand -base64 64
# -----------------------------------------------------------------------------
JWT_SECRET=CHANGE_ME_GENERATE_SECURE_64_CHAR_KEY
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=CHANGE_ME_GENERATE_ANOTHER_SECURE_64_CHAR_KEY
JWT_REFRESH_EXPIRES_IN=30d

# -----------------------------------------------------------------------------
# API Configuration
# -----------------------------------------------------------------------------
API_PORT=4000
# CORS: Add your frontend domain(s), comma-separated
CORS_ORIGINS=https://rwa.portall.tr,https://www.rwa.portall.tr

# -----------------------------------------------------------------------------
# Frontend Configuration (Nuxt)
# -----------------------------------------------------------------------------
APP_PORT=3000
# These should point to your API domain (used during build & runtime)
NUXT_PUBLIC_API_BASE=https://api.rwa.portall.tr
NUXT_PUBLIC_SOCKET_URL=https://api.rwa.portall.tr

# -----------------------------------------------------------------------------
# Queue Configuration
# -----------------------------------------------------------------------------
QUEUE_READINGS_CONCURRENCY=10

# -----------------------------------------------------------------------------
# Dokploy / Traefik Configuration (used with docker-compose.dokploy.yml)
# -----------------------------------------------------------------------------
API_DOMAIN=api.rwa.portall.tr
APP_DOMAIN=rwa.portall.tr

# -----------------------------------------------------------------------------
# Integrations (Optional)
# -----------------------------------------------------------------------------
# HTTP_CALLBACK_URL=https://your-callback-endpoint.com/webhook
# MQTT_URL=mqtt://your-mqtt-broker:1883
# MQTT_USERNAME=
# MQTT_PASSWORD=

